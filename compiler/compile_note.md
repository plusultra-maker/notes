# 2025 spring compile note
## 1. 词法分析
- 词法分析器
  - 就是把源代码token化，把单词拆出来，变成一个一个独立含义的token序列
  - Token类型
    - 关键字(关键字是保留字)
    - 标识符
    - 常量
    - 运算符
    - 分隔符
  - 结构
    - 类别编码+属性值
      - 基于分类
  - 可以是独立程序
    - 也可以和语法分析器连在一起用
- token的规约
  - 正则表达式来描述token的集合
    - 模式类型
  - 字母表
    - 就是可以输入的最小单位
  - 符号串 word/string
    - 字母表的有限个符号的串
    - 包括空串
  - 一些minor的定义
    - 前缀
    - 后缀
    - 子串
    - 子序列
  - 运算
    - 连接
      - 连接两个符号串
      - $xy$表示x和y的连接
    - Kleene星号运算
      - $x^*$表示x的任意个连接，包括0个连接(空串)
    - 选择运算
      - $x|y$表示x和y的选择，或者说是并集
    - 交运算
      - $x \cap y$表示x和y的交集
    - 差运算
      - $x \setminus y$表示x和y的差集，即在x中去掉y中的元素

## 2. 句法
- 上下文无关句法
  - 最左、最右推导
  - 分析树
  - 二义性
- 文法设计
  - 消除二义性
  - 消除左递归
    - 加入新的非终结符 一撇
  - 预测分析法
    - 提取左公因子
- 自定向下
  - 开始符号，最左推导，从左往右
  - 本质含有预测，需要回溯
  - 避免回溯
    - First and Follow集合
    - first从左向右递归的计算
    - follow按所有的生成式来计算
  - LL(1)文法
    - 不存在相同的生成式右边有相同的first符号
    - 两个只能有一个是空串
    - 如果有空串，另一个不能有follow集合相同的符号
  - 预测分析表构造 M
    - 表格的行是非终结符，列是终结符
    - 内容是产生式
  - 递归的预测分析
  - 非递归的预测分析
    - 用栈来模拟递归
    - 先入后出，栈顶是当前的非终结符
    - 读入一个终结符，和栈顶的非终结符进行匹配
    - 如果匹配成功，pop掉栈顶元素，读入下一个终结符
    - 如果不匹配，查表，如果有产生式，就把产生式压入栈中，如果没有，就报错
- 自底
  - 靠的是归约
    - 对应最右推导
      - 就是目前的末尾必须为一个最右的终结符
      - 终结符的最后一步推导的终结符的左边那个叫句柄
  - 移进归约法
    - 栈里是一个终止符号，
    - 如果栈顶是句柄
  - LR分析
    - 